<mat-toolbar>
  <mat-toolbar-row>
    <span class="toolbar-header">Saved Competitions</span>
  </mat-toolbar-row>
</mat-toolbar>
<div fxLayout="row" >
  <div fxLayout="column" fxFlexOffset.gt-xs="1vw" fxFlex="90%" fxFlex.lt-sm="100%">
    <h4>***This is an experimental feature***</h4>
    <p>This section is under development, so you may lose your saved competitions. Use it on your own risk</p>
    <table *ngIf="dataSource.data" mat-table [dataSource]="dataSource" class="mat-elevation-z4" fxFlexFill>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      <ng-container matColumnDef="Icon">
        <th mat-header-cell *matHeaderCellDef fxFlex fxLayout="row" fxLayoutAlign="start end" class='table-header'></th>
        <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center"> <img fxFlex="47px" style="max-height: 100%;" [src]="'assets/images/'+element.event.Icon"> </td>
      </ng-container>
      <ng-container matColumnDef="Name">
        <th mat-header-cell *matHeaderCellDef fxFlex fxLayout="row" fxLayoutAlign="start end" class='table-header'>Name</th>
        <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">{{element.name}}</td>
      </ng-container>
      <ng-container matColumnDef="Event">
        <th mat-header-cell *matHeaderCellDef fxFlex fxLayout="row" fxLayoutAlign="start end" class='table-header'>Event</th>
        <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">{{element.event.Name|eventName}}</td>
      </ng-container>
      <ng-container matColumnDef="Date">
        <th mat-header-cell *matHeaderCellDef fxFlex fxLayout="row" fxLayoutAlign="start end" class='table-header'>Date</th>
        <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">{{element.eventForm.controls['datePicker'].value | date: 'shortDate'}}
        </td>
      </ng-container>
      <ng-container matColumnDef="TotalPoints">
        <th mat-header-cell *matHeaderCellDef fxFlex fxLayout="row" fxLayoutAlign="start end" class='table-header'>Total Points</th>
        <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">{{element.points.totalPoints}}
        </td>
      </ng-container>
    </table>
    <p *ngIf="!dataSource.data">There are no saved competitions yet</p>
  </div>
</div>
